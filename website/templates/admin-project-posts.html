
{% extends "layout.html" %}

{% block title %}Posts for {{project.title}} | Admin View{% endblock %}

{% block content %}
<div>
    <h3>Posts for {{project.title}}</h3>
    <a href="{{ url_for('admin_views.create_post', project_title=project.title) }}">Create New Post</a>
    <a href="{{ url_for('admin_views.admin_projects_list') }}">Back to Projects</a>
    
    {% for post in project.posts %}
    <div>
        <h4>{{post.title}}</h4>
        <p>{{post.content}}</p>
        <small>{{post.date}}</small>
        <a href="{{ url_for('admin_views.edit_post', project_title=project.title, post_id=post.id) }}">Edit</a>
        <a href="{{ url_for('admin_views.manage_post_images', post_id=post.id) }}">Manage Images</a>
        <form method="POST" action="{{ url_for('admin_views.delete_post', project_title=project.title, post_id=post.id) }}" style="display:inline;">
            <button type="submit" onclick="return confirm('Delete this post?');">Delete</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}